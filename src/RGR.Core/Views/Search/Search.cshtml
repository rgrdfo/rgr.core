
@using RGR.Core.Controllers.Enums;
@using RGR.Core.Views.Helpers;
@{
    ViewData["Title"] = "Результаты поиска";
}

<head>
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
    <!--<script src="~/js/map.js" type="text/javascript"></script>-->
    <script type="text/javascript">
        ymaps.ready(init);
        var myMap,
            myPlacemark;

        function init()
        {
            myMap = new ymaps.Map("map", {
                center: [48.48888324, 135.08322577],
                zoom: 12
            });

            myPlacemark = new ymaps.Placemark([48.48888324, 135.08322577], {
                hintContent: 'РГР ДФО',
                balloonContent: 'ул. Карла Маркса, 65-102А'
            });

            myMap.geoObjects.add(myPlacemark);
        }

        function findLocation(str)
        {
            var geocoder = ymaps.geocode(str);
            geocoder.Then(
                function (res) {
                    map.geoObjects.add(res.geoObjects)
                    throw (":)");
                },
                function (err) {
                    throw ":(";
                }
                );
        }
    </script>
</head>

<div class="search-result">
    <!--Отладочная информация, убрать к релизу-->
    <font size="1">@ViewData["Timer"] </font> <br /> <br />

    @*<a href='@url.action("saverequest", "search")'> сохранить запрос </a>*@
    <form action="saveRequest">
        <input name="query" value="@Context.Request.QueryString.ToString()" hidden="hidden" />
        <input type="submit" value="Сохранить запрос" />
    </form>
    <div class="search-result-box">
        @*<div class="row">
            <div class="col-lg-3"></div>
            <div class="col-lg-1"></div>
            <div class="col-lg-1"></div>
            <div class="col-lg-2"></div>
            <div class="col-lg-1"></div>
            <div class="col-lg-1"></div>
            <div class="col-lg-3"></div>
        </div>*@
        @SearchResult.Render((string)ViewData["Result"], (EstateTypes)ViewData["Type"])
    </div>
    <!--<div id="map" style="width: 400px; height: 400px; border:1px solid black; position: absolute; top:0; left:560px"></div>-->
    
</div>



<script type="text/javascript">
    var map = new ymaps.Map("map", {
            center: [55.76, 37.64],
            zoom: 10
    });
</script>